global @e = alloc i32, 0

decl @getint(): i32

decl @getch(): i32

decl @getarray(*i32): i32

decl @putint(i32)

decl @putch(i32)

decl @putarray(i32, *i32)

decl @starttime()

decl @stoptime()

fun @half(@x: i32): i32 {
%entry:
  %x = alloc i32
  store @x, %x
  %0 = load %x
  %1 = div %0, 2
  ret %1
}

fun @f(@a: i32) {
%entry:
  %a = alloc i32
  store @a, %a
  %2 = load %a
  %3 = add %2, 1
  store %3, %a
  ret
}

fun @main(): i32 {
%entry:
  @a = alloc i32
  store 3, @a
  jump %while0entry

%while0entry:
  %4 = load @a
  %5 = lt %4, 10
  br %5, %while0body, %while0fi

%while0body:
  %6 = load @a
  call @f(%6)
  jump %while0entry

%while0fi:
  %7 = load @a
  call @putch(%7)
  %8 = load @a
  %9 = call @half(%8)
  ret %9
}
